# 기말고사와 함께하는 DATABASE (MySQL)

### 데이터

- `Data(자료)` : 관찰, 검색, 측정을 통해 수집되는 사실이나 값
- `정보` : 자료의 유효한 해석, 지식
- `일괄 처리 시스템` : 데이터를 수집, 분류, 정렬한 다음 **일괄 처리**하는 데이터 처리 방법
- `온라인 처리 시스템` : 데이터가 생성되는 **즉시 전송**, 컴퓨터가 **즉시 처리** (하나의 DB에서 처리)
- `분산 처리 시스템` : **여러 데이터베이스**에서 처리, 통신 네트워크로 공유 (온라인 처리보다 효율적)
- `데이터베이스` : 여러 응용 시스템들이 공용할 수 있도록 **통합 저장된 운영 데이터**

### 데이터베이스 정의 (SISO)

- `저장 데이터` (Stored Data) : 문서 보관이 아닌 **하드디스크**나 **서버**에 저장된 데이터를 의미
- `통합 데이터` (Integrated Data) : 여러 곳에서 사용하던 **데이터를 통합**, 하나의 저장된 데이터를 의미 (데이터 중복)
- `공용 데이터` (Shared Data) : 여러 사용자들이 서로 다른 목적으로 데이터를 공동 이용 (데이터 양 대규모화)
- `운영 데이터` (Operational Data) : **조직의 목적**을 위해 사용되는 데이터를 의미 (임시 데이터는 운영데이터 X)

### 데이터베이스 특성 (RCCC)

- `실시간 접근성` (real-time accessibility) : DB는 **실시간으로 서비스**함. 사용자의 요청에 즉시 응답
- `계속적인 변화` (continuous evolution) : 데이터는 **계속 바뀜**. 삽입과 삭제, 수정 등의 작업으로 바뀐 값 저장
- `동시 공용` (concurrent sharing) : 서로 다른 사용자에게 **동시 공유** (여기서 생기는 문제를 해결하기 위해 종속성, 중복성 해결)
- `내용에 의한 참조` (contents reference) : 주소가 아닌 **데이터 값 참조**. 쿼리를 제시하면 DB는 데이터 검색해서 보내줌

### 파일 시스템 (not DBMS)

- `파일 시스템` : 각각 응용 프로그램이 독립적으로 자료를 **파일 형태로 관리**
- `데이터 중복성` : 시스템 내 자료가 **중복 저장**되어 비용 증가(비효율적). 응용 프로그램마다 별도로 독립된 파일 때문
- `데이터 종속성` : 자료 간의 상호 의존도가 높아서 하나의 파일 변경 시 관련 파일도 변경해야 함

### DBMS의 장점

- 데이터를 공유하기 때문에 **종속성 문제 해결**
- 중복 제거로 데이터 **일관성 유지**
- 데이터 **복구**, **보안**이 쉬움
- 하나의 갱신 작업만 수행하면 되어서 **효율적**

### DBMS의 단점

- DBMS, CPU, 메모리 용량 등 **비용 발생**
- **복잡한** 백업과 회복 (처음부터 잘 해야함)
- 시스템 **취약성** (DB 공격당하면 끝)

### DBMS의 기능

- `데이터 정의` (DDL) : **데이터의 구조** 정의 및 데이터 구조에 대한 삭제, 변경 수행 (CREATE, ALTER, DROP)
- `데이터 조작` (DML) : 데이터의 검색, 삽입, 수정, 삭제 작업 지원 (SELECT, INSERT, DELETE, UPDATE) 
- `데이터 제어` (DCL) : 데이터베이스 사용자 생성, 모니터링, 접근 제어 (백업과 회복, 동시성 제어) (GRANT, REVOKE)

### DBMS 사용자

- `일반 사용자` : 데이터의 검색, 삽입, 수정 작업 하는 사람 (서비스에서 클릭만으로 조회하는 사람)ㅔ
- `응용프로그래머` : 일반 사용자가 사용 가능하도록 **프로그램 만드는 사람** (SQL 번역, DBMS 접근 도와줌)
- `DBA` (DataBase Administrator) : DB 총괄 책임자. 데이터 설계, 구현, 유지보수 전 과정 담당

||SQL 언어|프로그래밍 언어|DBMS 지식|데이터 구성|
|-|-------|-------------|---------|----------|
|일반 사용자|X|X|X|X|
|응용프로그래머|O|X|O|O|
|DBA|O|O|O|O|

### 스키마 (Schema)

- `스키마` : 데이터베이스 구조와 제약 조건에 관해 명세
- `내부 스키마` : 물리적 저장 위치에 데이터베이스의 저장 위치 명세
- `개념 스키마` : 전체 데이터베이스의 정의. (하나만 존재)
- `외부 스키마` : 각 사용자, 응용프로그래머가 각자 필요한 논리적 구조 정의 (=뷰)

### 릴레이션 (Relation)

- `릴레이션` : 테이블(표)
- `릴레이션 스키마` : 속성들의 집합
- `릴레이션 인스턴스` : 데이터들의 집합
- `차수` : 속성(애트리뷰트)의 개수
- `카디널리티` : 튜플의 개수
- `도메인` : 속성들이 가질 수 있는 값들의 집합

![image](https://user-images.githubusercontent.com/80818534/144735896-c1769a7a-4070-4406-8406-9978a6ec71aa.png)

### 키 (Key)

- `Key` : 키를 이용해 특정 튜플을 식별할 때 사용하는 속성
- `Super Key` (슈퍼키) : 튜플을 유일하게 식별할 수 있는 속성 집합
- `Candidate Key` (후보키) : 튜플을 유일하게 식별할 수 있는 속성의 **최소 집합**
- `Primary Key` (기본키) : 여러 후보키 중 하나를 선정하여 사용하는 대표키
- `Alternate Key` (대체키) : 기본키를 제외한 나머지 후보키
- `Foreign Key` (외래키) : 다른 릴레이션 참조 시 참조하는 기본키

### 기본키 (Primary Key)

- 후보키 중 하나 선택 (신중하게 선택해야 함)
- 튜플을 식별할 수 있는 고유한 값
- NULL값 허용하지 않음
- 키 값 변동 X
- 최대한 적은 수의 속성을 가진 것

### 무결성 제약조건

- `도메인 무결성 제약조건` : 각 애트리뷰트들의 도메인에 지정된 값만을 가져야 한다는 조건. Type, Null, Default, Check 등을 사용하여 지정
- `개체 무결성 제약조건` : 기본키의 조건을 지켜야 한다는 제약 조건 (튜플 식별 가능한 고유값, NULL X, 값 변동 X, 최대한 적은 수의 속성)
- `참조 무결성 제약조건` : 외래키의 조건을 지켜야 한다는 제약 조건 (부모 릴레이션 기본키 그대로 사용. 다른 값을 삽입, 수정할 때 거부)
- 참조 무결성 제약조건에서 옵션 붙음 (RESTRICTED(거부), CASCADE(연쇄), DEFAULT(초깃값), NULL)

|구분|도메인 무결성 제약조건|개체 무결성 제약조건|참조 무결성 제약조건|
|---|---------------------|------------------|-------------------|
|제약 대상|속성|튜플|속성과 튜플|
|같은 용어|도메인 제약|기본키 제약|외래키 제약|
|해당 키|-|기본키|외래키|
|NULL값 허용 여부|허용|불가|허용|
|릴레이션 내 제약조건의 개수|속성 개수와 동일|1개|0~여러 개|
|기타|튜플 삽입/수정 시 제약 사항 우선 확인|튜플 삽입/수정 시 제약 사항 우선 확인|튜플 삽입/수정 시 제약 사항 우선 확인|

### 관계대수

- `관계대수` : 관계형 DB 내에서 원하는 정보를 어떻게 찾아낼지 기술하는 절차적 언어
- `셀렉트(σ)` : 릴레이션에서 주어진 조건에 만족하는 튜플 찾는 연산자 (시그마라고도 읽음) (NULL 결과값은 나타내지 않음)
- `프로젝트(π)` : 필요한 속성들만 추출하는 연산 (중복 제거!)
- `디비전(÷)` : 2개의 릴레이션에서 피연산 릴레이션의 속성값을 모두 가진 연산 릴레이션의 속성을 제외한 속성만을 구하는 연산
- `합집합(∪)` : 두 릴레이션을 합하여 하나의 릴레이션으로 반환 (중복 제거!)
- `교집합(∩)` : 두 릴레이션에 모두 속한 튜플들로 이루어진 릴레이션
- `차집합(-)` : 피연산 릴레이션에 속하지 않은 튜플들로 이루어진 릴레이션
- `카티션 프로덕트(X)` : 연산 릴레이션과 피연산 릴레이션 곱하는 것 (중복 허용)
- 카티션 프로덕트를 하면 매우 많은 튜플 생성. 그러므로 필요한 자료만 보기 위해 `조인` 사용
- `동등조인(⋈)` : 양쪽 테이블에서 조인 조건(=)이 일치하는 행만 조인
- `자연조인(⋈N)` : 동등 조인 결과로 얻어진 불필요한 애트리뷰트 제외한 조인 (중복 애트리뷰트 제거)
- `세타조인(⋈θ)` : 조인 연산 시 조건이 붙는 조인 (<, >, =, <>, <=, >=)
- 

![image](https://user-images.githubusercontent.com/80818534/144736342-107d3eb3-9c0f-4f2c-b820-b72ea713faed.png)
![image](https://user-images.githubusercontent.com/80818534/144736412-84da0d7a-bc8b-4f58-a6da-fdc02cee085e.png)
![image](https://user-images.githubusercontent.com/80818534/144736826-cdf0caaf-39fd-4d60-b9f6-dee0df27f156.png)
![image](https://user-images.githubusercontent.com/80818534/144736847-62dadf00-adf1-4994-aea5-5881d22720b2.png)
![image](https://user-images.githubusercontent.com/80818534/144736888-aa8a6047-d86f-4ab4-98f3-4e813767b574.png)
![image](https://user-images.githubusercontent.com/80818534/144736935-5adfc403-db67-40e2-b2ba-f175dd698cd7.png)
![image](https://user-images.githubusercontent.com/80818534/144736963-bdb9c0e5-c8a6-4237-9330-365983f613c2.png)

![image](https://user-images.githubusercontent.com/80818534/144737051-f1451e9e-fcdc-45e2-9cd2-086be69694da.png)
![image](https://user-images.githubusercontent.com/80818534/144737012-b5ad38ca-2bf3-42ce-bc5f-89b29d66400e.png)


















