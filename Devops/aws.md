# AWS 전공역량강화 수업 기록

## Data Transformation (DT, DX)

- `정보 전자화(digitization)` : 아날로그에서 디지털로의 이동
- `디지털화(digitalization)` : 전자화된 정보를 사용해서, 기존의 작업 방식을 더 간단하게 만드는 과정
- `디지털 전환(digital transformation)` : 디지털화된 기술에 고객 경험 등의 전반적인 비즈니스 프로세스를 변화하고 향상하는 것

## DT에 성공한 기업들

- `NETFLIX` : 고객의 시청 습관과 선호도에 대한 인사이트를 활용하여 사용자 경험 설계부터, 넷플릭스 자체 제작의 오리지널 드라마와 영화 모든 정보를 지원하는 데 데이터를 활용
- `NIKE` : 크립토킥스(CryptoKicks) 가상공간 상에서 고객이 직접 자신만의 운동화를 만들고 판매 과정에 참여하는 신개념 마케팅
- `STARBUCKS` : 앱을 사용한 스타벅스 이용자의 방문 시간, 빈도, 소비 패턴 등 다양한 정보를 축적하여 보다 정교한 마이크로 타겟팅

## AWS

- AMI(Amazon Machine Image) : 가상 머신 템플릿. 이걸 이용해서 인스턴스를 빠르게 시작

## 가용 영역 (Availability Zone)

- 다수의 가용 영역이 각 리전에 있음
- 각 가용 영역은 AWS 인프라의 완전히 격리된 파티션
  - 가용 영역은 별개의 데이터 센터로 구성됨
  - 내결함성을 제공하도록 설계
  - 고속 프라이빗 네트워크(백본 네트워크)를 통해 다른 가용 영역과 상호 연결
  - 사용할 가용 영역을 고객이 선택 (VPC)

## AWS 데이터 센터

- 보안을 고려한 설계
  - 위치는 공개되지 않으며 데이터센터에 대한 모든 액세스 제한
  - 중요한 시스템 구성요소는 여러 가용영역에 백업
- 실제 데이터가 상주하고 데이터가 처리되는 위치
- 각 데이터센터는 이중화된 전력, 네트워킹 및 연결을 사용하며 별도의 시설에 구축
- 일반적으로 50,000~80,000대의 물리적 서버 존재

## PoP (Point of Presence)

- 전세계에 187개의 PoP로 구성 (리전과 독립적인 존재)
- `엣지 로케이션`과 `리전 엣지 캐시`로 구성 (자주 사용하는 콘텐츠는 엣지 로케이션으로, 잘 사용하지 않는 콘텐츠는 리전 엣지 캐시로)
- `Amazon CloudFront`와 함께 사용
  - 짧은 지연 시간으로 최종 사용자에게 콘텐츠를 전송하는 글로벌 `CDN(Contents Delivery Network)` 기능
- 액세스 빈도가 낮은 콘텐츠에는 리전 엣지 캐시 사용

## AWS 인프라 기능

- 탄력 및 확장성 (동적 용량 조절, 오토 스케일링)
- 내결함성 (결함이 발생할 때 대비를 위해 복제하는 것, 이중화)
- 고가용성 (높은 수준의 운영 성능)

## 인스턴스 생성 순서

1. AMI
2. 인스턴스 유형
3. 네트워크 설정
4. IAM 역할
5. 사용자 데이터
6. 스토리지 옵션
7. 태그 (리소스 관리 편하게 하기 위해 사용자가 정의하는 키값 쌍)
8. 보안 그룹
9. 키페어

## 인스턴스 유형

`m5.large`
m

- 인스턴스 패밀리
- 용도 별로 선택
  5
- 인스턴스 세대
- 높을수록 최신
- 최신 = 비용 대비 성능 우수
  large
- 인스턴스 사이즈
- 커질 때마다 용량 및 가격이 2배씩 증가

## 태그

- AWS 리소스에 할당되는 레이블
- 각 태그는 사용자가 정의하는 키와 선택적 값으로 구성
- 태그를 사용하여 EC2 인스턴스와 같은 AWS 리소스를 다양한 방식으로 분류

## 키페어

- 인스턴스에 대한 보안 연결 지원
- 기존 키페어 식별 또는 새 키페어 생성
  - AWS에 저장하는 퍼블릭 키
  - 사용자가 저장하는 프라이빗 키

## EC2 인스턴스 상태

- 대기중 : AMI에서 인스턴스를 처음 시작하거나 중지된 인스턴스를 시작할 때
- 실행 중 : 인스턴스가 완전히 준비되고 인스턴스에 연결 가능한 상태
- 재부팅중 : 퍼블릭 IP 주소를 유지. 인스턴스 스토어 볼륨이 있는 경우 해당 볼륨에 데이터 유지
- 중지 : 잠시 보류 상태로 전환. 해당 인스턴스는 새 호스트 머신으로 이동 (퍼블릭 IP 바뀜)
- 종료 : 가상머신 삭제

## EC2 요금 모델

- 프리 티어 : 1년간 매달 750시간의 인스턴스 (t2.micro만 가능. 일부 제공되지 않는 리전에서는 t3.micro 가능)
- 온디맨드 / Saving Plans / 예약 인스턴스 / _스팟 인스턴스_/ 전용 호스팅을 구매
- Saving Plans 및 예약 인스턴스는 약정 요금제 (1년 또는 3년), 예약 인스턴스는 인스턴스 유형을 바꾸지 못함
- 스팟 인스턴스 : (90%까지 요금이 저렴해짐. 잠시 서버가 꺼져도 괜찮은 경우. 근데 서버가 꺼진 경우는 아직 없음)
- 전용 호스팅 : 물리적 EC2 서버를 받아서 쓰는 것. 온디맨드로도 가능하고 예약 인스턴스로도 가능함
- Amazon EC2 지출을 최적화하는 방법에 대한 자세한 내용은 Amazon EC2 비용 및 용량 페이지 참조

## 비용 최적화 4가지 원칙

- 크기 (인스턴스 유형의 올바른 균형 선택)
- 탄력성 (자동 조정 -> 유휴상태의 서버 용량을 줄이도록 배포 설계)
- 요금 (적절한 요금 옵션)
- 스토리지 (사용하지 않는 스토리지 오버헤드 줄이기, 성능 요구사항 충족한다면 더 저렴한 스토리지 옵션 선택)
